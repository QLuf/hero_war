window.__require=function e(t,o,n){function c(r,a){if(!o[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!a&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var d=o[r]={exports:{}};t[r][0].call(d.exports,function(e){return c(t[r][1][e]||e)},d,d.exports,e,t,o,n)}return o[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<n.length;r++)c(n[r]);return c}({AdManager:[function(e,t,o){"use strict";cc._RF.push(t,"c7aa00Wf11BmJxKG1Z22PAZ","AdManager"),cc.Class({extends:cc.Component,properties:{androidLink:{default:""},iosLink:{default:""},defaultLink:{default:""}},openAdUrl:function(){window.androidLink=this.androidLink,window.iosLink=this.iosLink,window.defaultLink=this.defaultLink,window.openAdUrl?window.openAdUrl():window.open()}}),cc._RF.pop()},{}],AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"1f92ayhsJRHfo1Je3DYURxj","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./common/Constant"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.background=null,t.attack_2=null,t.pick=null,t}return __extends(t,e),t.prototype.start=function(){this.addEventListener(),this.onBackground()},t.prototype.addEventListener=function(){cc.Canvas.instance.node.on(n.Constant.EVENT.BACKGROUND,this.onBackground,this),cc.Canvas.instance.node.on(n.Constant.EVENT.ATTACK_2,this.onAttack2,this),cc.Canvas.instance.node.on(n.Constant.EVENT.PICK_ITEM,this.onPickItem,this)},t.prototype.onBackground=function(){cc.audioEngine.play(this.background,!0,.7)},t.prototype.onAttack2=function(){cc.audioEngine.play(this.attack_2,!1,1.2)},t.prototype.onPickItem=function(){cc.audioEngine.play(this.pick,!1,1.5)},__decorate([r({type:cc.AudioClip})],t.prototype,"background",void 0),__decorate([r({type:cc.AudioClip})],t.prototype,"attack_2",void 0),__decorate([r({type:cc.AudioClip})],t.prototype,"pick",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./common/Constant":"Constant"}],BellmanFord:[function(e,t,o){"use strict";cc._RF.push(t,"7e7abrBJc1AOJ/sOaYMfMoI","BellmanFord"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.v=8,t.adj=[],t}return __extends(t,e),t.prototype.start=function(){},t=__decorate([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],Block:[function(e,t,o){"use strict";cc._RF.push(t,"a07a3uezqlC1qfkfhJ83G20","Block"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.point=0,t.pointLabel=null,t.enemy=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(){},t.prototype.getHurt=function(){for(var e=0;e<this.enemy.children.length;e++)this.enemy.children[e].getComponent(sp.Skeleton).setAnimation(0,"die",!1)},t.prototype.attack=function(){for(var e=0;e<this.enemy.children.length;e++)this.enemy.children[0].getComponent(sp.Skeleton).setAnimation(0,"attack",!0)},__decorate([i()],t.prototype,"point",void 0),__decorate([i(cc.Label)],t.prototype,"pointLabel",void 0),__decorate([i(cc.Node)],t.prototype,"enemy",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],CameraSlider:[function(e,t,o){"use strict";cc._RF.push(t,"bca9351585Ny75Vdi0xomJN","CameraSlider"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.mainCam=null,t.camSlider=null,t.viewPort=null,t.progressAdd=.01,t.isDragHero=!1,t}return __extends(t,e),t.prototype.start=function(){this.canvas.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.canvas.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.canvas.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onSliderValueChanged=function(e){var t=this.viewPort.height;console.log("viewPortHeight: "+t);var o=t-1100,n=this.camSlider.progress*o;this.mainCam.node.y=n},t.prototype.onTouchStart=function(e){},t.prototype.onTouchMove=function(e){if(!this.isDragHero){var t=e.touch.getDelta().y;t>0?(this.camSlider.progress-=this.progressAdd,this.camSlider.progress<=0&&(this.camSlider.progress=0)):t<0&&(this.camSlider.progress+=this.progressAdd,this.camSlider.progress>=1&&(this.camSlider.progress=1)),this.moveSlider(this.camSlider.progress)}},t.prototype.moveSlider=function(e){var t=e*(this.viewPort.height-980);this.mainCam.node.y=t},t.prototype.onTouchEnd=function(e){},__decorate([i(cc.Node)],t.prototype,"canvas",void 0),__decorate([i(cc.Camera)],t.prototype,"mainCam",void 0),__decorate([i(cc.Slider)],t.prototype,"camSlider",void 0),__decorate([i(cc.Node)],t.prototype,"viewPort",void 0),__decorate([i],t.prototype,"progressAdd",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],Cell:[function(e,t,o){"use strict";cc._RF.push(t,"0c29eNvfnxAN7+CJD6DPJa/","Cell"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./MergeUpgrade"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.xMove=0,t.yMove=0,t.updateMove=!1,t.manager=null,t.level=1,t.hero=null,t.point=0,t.pointLabel=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.getCellStart=function(){this.manager.setCellStart(this)},t.prototype.getCellEnd=function(){this.manager.setCellEnd(this)},t.prototype.isEqualLevel=function(e){return this.level==e.level},t.prototype.moveChildToCell=function(e){this.hero.parent=e.node,e.hero.position=cc.v3(0,-50,0)},__decorate([r(n.default)],t.prototype,"manager",void 0),__decorate([r],t.prototype,"level",void 0),__decorate([r(cc.Node)],t.prototype,"hero",void 0),__decorate([r()],t.prototype,"point",void 0),__decorate([r(cc.Label)],t.prototype,"pointLabel",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./MergeUpgrade":"MergeUpgrade"}],Constant:[function(e,t,o){"use strict";cc._RF.push(t,"4da17WDqUFKuqb6h81MXX97","Constant"),Object.defineProperty(o,"__esModule",{value:!0}),o.SCENE_TAG={SCENE_1:0,SCENE_2:1,SCENE_3:2},o.Constant={EVENT:{BACKGROUND:"BACKGROUND",PLAYER_APPEAR:"PLAYER_APPEAR",ATTACK_2:"ATTACK_2",PICK_ITEM:"PICK_ITEM",END_GAME:"END_GAME"}},cc._RF.pop()},{}],Global:[function(e,t,o){"use strict";cc._RF.push(t,"488c5cJQnRNDazLVn1uxhKS","Global"),Object.defineProperty(o,"__esModule",{value:!0});o.default={hp_boss:0,enableBroke:!1,numEggVsHero:0,allowDrag:!0,allow:!1,skinNum:1},cc._RF.pop()},{}],GraphNode:[function(e,t,o){"use strict";cc._RF.push(t,"789f9UGNcNPTIL5lwGYjM+g","GraphNode"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTraversed=!1,t}return __extends(t,e),t.prototype.start=function(){},__decorate([i],t.prototype,"isTraversed",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],HeroManager:[function(e,t,o){"use strict";cc._RF.push(t,"3c1a9g10fFJUIaULZ88t1KP","HeroManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=this&&this.__decorate||function(e,t,o,n){var c,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(r=(i<3?c(r):i>3?c(t,o,r):c(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./GraphNode"),r=cc._decorator,a=r.ccclass,l=r.property,s=function(){function e(e){this.vertCount=e,this.AdjList=new Map}return e.prototype.addVertex=function(e){this.AdjList.set(e,[])},e.prototype.addEdge=function(e,t){this.AdjList.get(e).push(t),this.AdjList.get(t).push(e)},e}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.graphNodes=[],t.time=1,t}return n(t,e),t.prototype.start=function(){this.nextAnim(this.heroAnim),this.g=new s(6),this.graphNodes[0].getComponent(i.default).isTraversed=!0,this.currentNodeNumber=0;for(var e=0;e<this.g.vertCount;e++)this.g.addVertex(e);this.g.addEdge(0,1),this.g.addEdge(0,2),this.g.addEdge(1,2),this.g.addEdge(1,3),this.g.addEdge(1,4),this.g.addEdge(2,4),this.g.addEdge(2,5),this.g.addEdge(3,4),this.g.addEdge(4,5)},t.prototype.onClick=function(e,t){var o=this,n=this.g.AdjList.get(this.currentNodeNumber),c=parseInt(t);if(n.indexOf(c)>-1){if(!this.graphNodes[c].getComponent(i.default).isTraversed){var r=this.graphNodes[c];this.heroAnim.setAnimation(0,"run_sword",!0);var a=r.parent.convertToWorldSpaceAR(r.position),l=this.heroAnim.node.parent.convertToNodeSpaceAR(a);4==c?1==this.currentNodeNumber||this.currentNodeNumber:1==c?this.currentNodeNumber:2==c?this.currentNodeNumber:this.node.runAction(cc.sequence(cc.moveTo(this.time,l.x,l.y),cc.callFunc(function(){o.heroAnim.setAnimation(0,"idle_sword",!0)})))}this.graphNodes[c].getComponent(i.default).isTraversed=!0,this.currentNodeNumber=c}},t.prototype.nextAnim=function(e){e.setCompleteListener(function(t,o){var n=t.animation?t.animation.name:"";"attack_sword"==n&&e.getComponent(sp.Skeleton).setAnimation(0,"idle_sword",!0),"attack_sword2"==n&&e.getComponent(sp.Skeleton).setAnimation(0,"idle_sword",!0),"die"==n&&(e.node.active=!1)})},c([l(sp.Skeleton)],t.prototype,"heroAnim",void 0),c([l(cc.Node)],t.prototype,"graphNodes",void 0),c([l()],t.prototype,"time",void 0),t=c([a],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./GraphNode":"GraphNode"}],MergeHero:[function(e,t,o){"use strict";cc._RF.push(t,"b41c1xCj2ZPApwTzc/Z2wXC","MergeHero"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Global"),c=e("./Cell"),i=e("../common/Constant"),r=cc._decorator,a=r.ccclass,l=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.pointAfterMergeSword=null,t.cellStart=null,t.cellEnd=null,t.hero=null,t.skin=[],t.skinList=[],t.point=0,t.typeBattle=0,t.checkEnd=!1,t.cellEmptyPrb=null,t.countCell=0,t.startCell=null,t.num=1,t.firstTime=!1,t.text=null,t.common=null,t.checkStart=!1,t.sword=null,t.sword2=null,t.pointSword=null,t.pointSword2=null,t.efx_fire=null,t.efx_disappear=null,t.x_disappear=0,t.dragon=null,t.checkScore=!1,t.addTown=!0,t.isEndG=!1,t.deletedCell=null,t.deletedIndex=0,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(),this.node.on("touchstart",this.onTouchStart,this),this.node.on("touchend",this.onTouchEnd,this),this.node.on("touchcancel",this.onTouchEnd,this),this.hero.getComponent(sp.Skeleton).setAnimation(0,"idle_sword",!0)},t.prototype.start=function(){var e=cc.winSize;cc.Canvas.instance.designResolution.height,cc.Canvas.instance.designResolution.width,e.height,e.width;cc.Canvas.instance.node.on(i.Constant.EVENT.END_GAME,this.endGame,this)},t.prototype.explosion=function(e,t,o){var n=cc.instantiate(e);n.parent=cc.Canvas.instance.node,n.x=t+5,n.y=o-350},t.prototype.onTouchStart=function(e){if(!this.isEndG){this.checkStart||(this.checkStart=!0,this.text.destroy());var t=e.touch.getLocation();this.hand&&this.hand.destroy();var o=cc.director.getPhysicsManager().testPoint(t);if(o){if(null==o.node.getComponent(c.default).hero)return void(n.default.allow=!1);if("hero"!=o.node.getComponent(c.default).hero.group)return void(n.default.allow=!1);n.default.allow=!0,this.cellStart=o.getComponent(c.default)}}},t.prototype.onTouchEnd=function(e){var t=this;if(null!=this.cellStart){var o=e.touch.getLocation(),i=cc.director.getPhysicsManager().testPoint(o);if(i){var r=i.node.getComponent(c.default);if((r===this.cellStart||null==r)&&null!=this.cellStart.node.getComponent(c.default).hero)return void(this.cellStart.node.getComponent(c.default).hero.position=new cc.Vec3(0,-50,0));if(null!=r.node.getComponent(c.default).hero){if(this.cellStart.isEqualLevel(r)){if(this.point=r.node.getComponent(c.default).point+this.cellStart.node.getComponent(c.default).point,this.addTown=!0,"armor"==r.node.getComponent(c.default).hero.group)this.addTown=!1,"skin2"==r.node.getComponent(c.default).hero.name?(n.default.skinNum=2,this.townL.setSiblingIndex(200),this.firstTime=!0):(this.townL.setSiblingIndex(200),n.default.skinNum=3),null!=this.townL.children[0].getChildByName("efxBoder")&&this.townL.children[0].getChildByName("efxBoder").destroy(),r.node.getComponent(c.default).hero.destroy(),this.cellStart.node.getComponent(c.default).hero.destroy(),this.cellStart.node.getComponent(c.default).hero=null,r.node.getComponent(c.default).enabled=!1,r.node.getComponent(cc.PhysicsBoxCollider).enabled=!1,this.handleMerge(r),n.default.allowDrag=!0,this.checkScore&&(this.pointSword2.getComponent(cc.Label).string="53");else if("enemy"==r.node.getComponent(c.default).hero.group){this.pointSword2.activeInHierarchy&&this.pointSword2.destroy(),r.node.getChildByName("efxBoder").destroy();for(var a=0;a<this.townL.children.length;a++)this.townL.children[a].getComponent(cc.PhysicsBoxCollider).enabled=!1;if(this.cellStart.node.getComponent(c.default).point>=r.node.getComponent(c.default).point){var l=r.node.getComponent(c.default).hero;this.handleMerge(r),this.cellStart.node.getComponent(c.default).hero.destroy(),r.node.getComponent(cc.PhysicsBoxCollider).enabled=!1,1==n.default.skinNum?r.node.getComponent(c.default).hero.getComponent(sp.Skeleton).setAnimation(0,"attack_dagger",!1):2==n.default.skinNum&&r.node.getComponent(c.default).hero.getComponent(sp.Skeleton).setAnimation(0,"attack_sword",!1),this.scheduleOnce(function(){null!=l&&l&&(l.getComponent("enemy").onEnemyDie(),t.explosion(t.efx_disappear,l.x+190+t.x_disappear,l.parent.y+95),n.default.allowDrag=!0)},.6)}else this.checkEnd=!0,r.node.getComponent(c.default).hero.setSiblingIndex(250),r.node.getComponent(c.default).hero.getComponent(sp.Skeleton).setAnimation(0,"attack",!1),this.handleMerge(r),this.cellStart.hero.active=!1,this.scheduleOnce(function(){r.hero.getComponent(sp.Skeleton).setAnimation(0,"die",!1),t.isEndG=!0,n.default.allowDrag=!0},.9)}this.cellStart.node.getComponent(c.default).enabled=!1,this.cellStart.node.getComponent(c.default).pointLabel.node.active=!1}}else if(null!=this.cellStart.node.getComponent(c.default).hero)return this.cellStart.node.getComponent(c.default).hero.position=new cc.Vec3(0,-50,0),this.cellStart.node.getComponent(c.default).pointLabel.node.x=this.cellStart.node.getComponent(c.default).hero.x,void(this.cellStart.node.getComponent(c.default).pointLabel.node.y=this.cellStart.node.getComponent(c.default).hero.y+130);this.checkEnd?("townR"==r.node.group&&(this.cellStart.hero.scaleX*=-1),this.cellStart.hero.parent=r.node):this.cellStart=null}null!=this.cellStart&&(this.cellStart.node.getComponent(c.default).hero.position=new cc.Vec3(8.822,-52.86,0),this.cellStart.node.getComponent(c.default).pointLabel.node.x=this.cellStart.node.getComponent(c.default).hero.x,this.cellStart.node.getComponent(c.default).pointLabel.node.y=this.cellStart.node.getComponent(c.default).hero.y+130),this.cellStart=null}},t.prototype.handleMerge=function(e){var t=this,o=cc.instantiate(this.skin[n.default.skinNum-1]);"townR"==e.node.group&&(o.x+=55,this.scheduleOnce(function(){o.x-=55},1),o.scaleX*=-1,this.deletedCell=e.node,this.deletedIndex=e.node.getSiblingIndex()),o.parent=e.node,o.x,e.hero=o,e.hero.group=o.group,e.node.getComponent(c.default).point=this.point,this.scheduleOnce(function(){null!=e.pointLabel.node&&(e.pointLabel.string=t.point.toString(),t.scheduleOnce(function(){e.node.getComponent(cc.PhysicsBoxCollider).enabled=!0},1))},.5),e.hero.setSiblingIndex(280),e.pointLabel.node.setSiblingIndex(300),this.countCell++,2==this.countCell&&(this.sword.active=!0,this.pointSword.active=!0,this.townL.children[0].getComponent(cc.PhysicsBoxCollider).enabled=!0),10==this.countCell&&(this.isEndG=!0,this.scheduleOnce(function(){t.darkLayout.active=!0,t.winG.active=!0,t.common.destroy(),cc.director.getPhysicsManager().enabled=!1},2))},t.prototype.setCellStart=function(e){null==this.cellStart?this.cellStart=e:this.cellStart!=e&&(this.cellStart=e)},t.prototype.setCellEnd=function(e){null!=this.cellStart&&e!=this.cellStart&&(this.cellEnd=e)},t.prototype.spawnEfx=function(e,t,o,n){var c=cc.instantiate(n);c.parent=e,c.x=e.x+t,c.y=e.y+o,c.setSiblingIndex(210)},t.prototype.endGame=function(){this.common.destroy(),this.darkLayout.active=!0,this.endG.setSiblingIndex(500),this.endG.active=!0},t.prototype.tryAgainBtn=function(){cc.director.loadScene("se_18")},__decorate([l(cc.Node)],t.prototype,"canvas",void 0),__decorate([l(cc.Label)],t.prototype,"pointAfterMergeSword",void 0),__decorate([l({type:cc.AudioClip}),l(cc.Node)],t.prototype,"darkLayout",void 0),__decorate([l(cc.Node)],t.prototype,"hand",void 0),__decorate([l(cc.Node)],t.prototype,"winG",void 0),__decorate([l(cc.Node)],t.prototype,"endG",void 0),__decorate([l(cc.Node)],t.prototype,"hero",void 0),__decorate([l(cc.Prefab)],t.prototype,"skin",void 0),__decorate([l(sp.SkeletonData)],t.prototype,"skinList",void 0),__decorate([l(cc.Node)],t.prototype,"townL",void 0),__decorate([l(cc.Prefab)],t.prototype,"cellEmptyPrb",void 0),__decorate([l(cc.Node)],t.prototype,"startCell",void 0),__decorate([l(cc.Node)],t.prototype,"text",void 0),__decorate([l(cc.Node)],t.prototype,"common",void 0),__decorate([l(cc.Node)],t.prototype,"sword",void 0),__decorate([l(cc.Node)],t.prototype,"sword2",void 0),__decorate([l(cc.Node)],t.prototype,"pointSword",void 0),__decorate([l(cc.Node)],t.prototype,"pointSword2",void 0),__decorate([l(cc.Prefab)],t.prototype,"efx_fire",void 0),__decorate([l(cc.Prefab)],t.prototype,"efx_disappear",void 0),__decorate([l(cc.Node)],t.prototype,"dragon",void 0),t=__decorate([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Global":"Global","../common/Constant":"Constant","./Cell":"Cell"}],MergeUpgrade:[function(e,t,o){"use strict";cc._RF.push(t,"077f1xKDidBHolCGbxDJY+C","MergeUpgrade"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Global"),c=e("./Cell"),i=e("../common/Constant"),r=e("./CameraSlider"),a=cc._decorator,l=a.ccclass,s=a.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.pointAfterMergeSword=null,t.cellStart=null,t.cellEnd=null,t.hero=null,t.skin=[],t.skinList=[],t.point=0,t.typeBattle=0,t.checkEnd=!1,t.cameraSlider=null,t.cellEmptyPrb=null,t.countCell=0,t.startCell=null,t.num=1,t.firstTime=!1,t.text=null,t.common=null,t.checkStart=!1,t.sword=null,t.sword2=null,t.pointSword=null,t.pointSword2=null,t.efx_fire=null,t.efx_disappear=null,t.x_disappear=0,t.dragon=null,t.checkScore=!1,t.addTown=!0,t.isEndG=!1,t.deletedCell=null,t.deletedIndex=0,t}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.winSize,t=cc.Canvas.instance.designResolution.height/cc.Canvas.instance.designResolution.width;e.height/e.width<=t?(this.townL.scale=1.2,this.townR_1.scaleX=-1.25,this.townR_1.scaleY=1.25,this.townR_1.x+=100,this.mainCam.y=1750,this.common.scale=2,this.common.x-=180,this.common.y-=520,this.hero.x+=10,this.hero.y-=25,this.x_disappear=110):(this.mainCam.y=1250,this.townL.scale=.9,this.townR_1.scaleX=-.95,this.townR_1.scaleY=.95,this.townR_1.x-=25,this.townL.x+=20,this.hero.x-=20),cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(),this.node.on("touchstart",this.onTouchStart,this),this.node.on("touchmove",this.onTouchMove,this),this.node.on("touchend",this.onTouchEnd,this),this.node.on("touchcancel",this.onTouchEnd,this),this.hero.getComponent(sp.Skeleton).setAnimation(0,"idle_dagger",!0)},t.prototype.start=function(){var e=this,t=cc.winSize,o=cc.Canvas.instance.designResolution.height/cc.Canvas.instance.designResolution.width;t.height/t.width<=o?this.scheduleOnce(function(){e.explosion(e.efx_fire,e.dragon.parent.x+35,e.dragon.parent.y+520)},.5):this.scheduleOnce(function(){e.explosion(e.efx_fire,e.dragon.parent.x-25,e.dragon.parent.y+30)},.5),this.scheduleOnce(function(){e.mainCam.runAction(cc.moveTo(2.2,0,0)),e.hero.angle=20,e.hero.runAction(cc.sequence(cc.moveBy(.2,-100,50),cc.moveTo(2,0,-50),cc.callFunc(function(){e.hero.angle=0})))},1),cc.Canvas.instance.node.on(i.Constant.EVENT.END_GAME,this.endGame,this)},t.prototype.explosion=function(e,t,o){var n=cc.instantiate(e);n.parent=cc.Canvas.instance.node,n.x=t+5,n.y=o-350},t.prototype.onTouchStart=function(e){if(!this.isEndG){this.checkStart||(this.checkStart=!0,this.text.destroy()),this.cameraSlider.isDragHero=!1;var t=e.touch.getLocation();this.hand&&this.hand.destroy();var o=cc.director.getPhysicsManager().testPoint(t);if(o){if(null==o.node.getComponent(c.default).hero)return void(n.default.allow=!1);if("hero"!=o.node.getComponent(c.default).hero.group)return void(n.default.allow=!1);n.default.allow=!0,this.cellStart=o.getComponent(c.default),(this.sword.activeInHierarchy||this.sword2.activeInHierarchy)&&null!=this.townL.children[0].getChildByName("efxBoder")&&this.townL.children[0].getChildByName("efxBoder").getComponent(cc.Animation).play();for(var i=0;i<this.townR_1.children.length;i++)null!=this.townR_1.children[i].getChildByName("efxBoder")&&this.townR_1.children[i].getChildByName("efxBoder").getComponent(cc.Animation).play()}}},t.prototype.onTouchMove=function(e){if(!this.isEndG&&null!=this.cellStart&&null!=this.cellStart.node.getComponent(c.default).hero){if(this.cameraSlider.isDragHero=!0,this.cellStart.node.parent==this.townR_1&&(console.log(this.cellStart.node.getSiblingIndex()),this.townR_1.children[this.cellStart.node.getSiblingIndex()+1])){var t=this.townR_1.children[this.cellStart.node.getSiblingIndex()+1].getComponent(c.default);if(t){this.pointAfterMergeSword.string=t.pointLabel.string;var o=t.pointLabel.node.parent.convertToWorldSpaceAR(t.pointLabel.node.position),n=this.canvas.convertToNodeSpaceAR(o);this.pointAfterMergeSword.node.position=n}}this.cellStart.node.getComponent(c.default).hero.setSiblingIndex(200),this.cellStart.node.setSiblingIndex(200);var i=e.touch.getLocation(),r=this.cellStart.node.getComponent(c.default).hero.parent.convertToNodeSpaceAR(i);this.cellStart.node.getComponent(c.default).hero.position=r,this.cellStart.node.getComponent(c.default).pointLabel.node.x=this.cellStart.node.getComponent(c.default).hero.x,this.cellStart.node.getComponent(c.default).pointLabel.node.y=this.cellStart.node.getComponent(c.default).hero.y+130}},t.prototype.onTouchEnd=function(e){var t=this;this.pointAfterMergeSword.string="";for(var o=0;o<this.townR_1.children.length;o++)null!=this.townR_1.children[o].getChildByName("efxBoder")&&(this.townR_1.children[o].getChildByName("efxBoder").getComponent(cc.Animation).stop(),this.townR_1.children[o].getChildByName("efxBoder").opacity=0);if(null!=this.cellStart){var i=e.touch.getLocation(),r=cc.director.getPhysicsManager().testPoint(i);if(r){var a=r.node.getComponent(c.default);if((a===this.cellStart||null==a)&&null!=this.cellStart.node.getComponent(c.default).hero)return void(this.cellStart.node.getComponent(c.default).hero.position=new cc.Vec3(0,-50,0));if(this.deletedCell){if(this.checkEnd)return;this.deletedCell.destroy();for(o=0;o<this.deletedIndex;o++){if(this.checkEnd)return;this.deletedCell.parent.children[o].runAction(cc.moveBy(.3,cc.v2(0,-141)))}this.deletedCell=null,this.scheduleOnce(function(){for(var e=0;e<t.townL.children.length;e++){if(!t.addTown)return;t.townL.children[e].runAction(cc.moveBy(.3,0,135))}},.1),this.scheduleOnce(function(){if(t.addTown){var e=cc.instantiate(t.cellEmptyPrb);e.parent=t.townL,e.setSiblingIndex(250),e.x=0,e.y=0}},.35)}if(null!=a.node.getComponent(c.default).hero){if(this.cellStart.isEqualLevel(a)){if(this.point=a.node.getComponent(c.default).point+this.cellStart.node.getComponent(c.default).point,this.addTown=!0,"armor"==a.node.getComponent(c.default).hero.group)this.addTown=!1,"skin2"==a.node.getComponent(c.default).hero.name?(n.default.skinNum=2,this.townL.setSiblingIndex(200),this.firstTime=!0):(this.townL.setSiblingIndex(200),n.default.skinNum=3),null!=this.townL.children[0].getChildByName("efxBoder")&&this.townL.children[0].getChildByName("efxBoder").destroy(),a.node.getComponent(c.default).hero.destroy(),this.cellStart.node.getComponent(c.default).hero.destroy(),this.cellStart.node.getComponent(c.default).hero=null,a.node.getComponent(c.default).enabled=!1,a.node.getComponent(cc.PhysicsBoxCollider).enabled=!1,this.handleMerge(a),n.default.allowDrag=!0,this.checkScore&&(this.pointSword2.getComponent(cc.Label).string="53");else if("enemy"==a.node.getComponent(c.default).hero.group){this.pointSword2.activeInHierarchy&&this.pointSword2.destroy(),a.node.getChildByName("efxBoder").destroy(),this.townR_1.setSiblingIndex(200);for(o=0;o<this.townL.children.length;o++)this.townL.children[o].getComponent(cc.PhysicsBoxCollider).enabled=!1;if(this.cellStart.node.getComponent(c.default).point>=a.node.getComponent(c.default).point){var l=a.node.getComponent(c.default).hero;this.handleMerge(a),this.cellStart.node.getComponent(c.default).hero.destroy(),a.node.getComponent(cc.PhysicsBoxCollider).enabled=!1,1==n.default.skinNum?a.node.getComponent(c.default).hero.getComponent(sp.Skeleton).setAnimation(0,"attack_dagger",!1):2==n.default.skinNum&&a.node.getComponent(c.default).hero.getComponent(sp.Skeleton).setAnimation(0,"attack_sword",!1),this.scheduleOnce(function(){null!=l&&l&&(l.getComponent("enemy").onEnemyDie(),t.explosion(t.efx_disappear,l.x+190+t.x_disappear,l.parent.y+95),n.default.allowDrag=!0)},.6)}else this.checkEnd=!0,a.node.getComponent(c.default).hero.setSiblingIndex(250),a.node.getComponent(c.default).hero.getComponent(sp.Skeleton).setAnimation(0,"attack",!1),this.handleMerge(a),this.cellStart.hero.active=!1,this.scheduleOnce(function(){a.hero.getComponent(sp.Skeleton).setAnimation(0,"die",!1),t.isEndG=!0,n.default.allowDrag=!0},.9)}this.cellStart.node.getComponent(c.default).enabled=!1,this.cellStart.node.getComponent(c.default).pointLabel.node.active=!1}}else if(null!=this.cellStart.node.getComponent(c.default).hero)return this.cellStart.node.getComponent(c.default).hero.position=new cc.Vec3(0,-50,0),this.cellStart.node.getComponent(c.default).pointLabel.node.x=this.cellStart.node.getComponent(c.default).hero.x,void(this.cellStart.node.getComponent(c.default).pointLabel.node.y=this.cellStart.node.getComponent(c.default).hero.y+130);this.checkEnd?("townR"==a.node.group&&(this.cellStart.hero.scaleX*=-1),this.cellStart.hero.parent=a.node):this.cellStart=null}null!=this.cellStart&&(this.cellStart.node.getComponent(c.default).hero.position=new cc.Vec3(8.822,-52.86,0),this.cellStart.node.getComponent(c.default).pointLabel.node.x=this.cellStart.node.getComponent(c.default).hero.x,this.cellStart.node.getComponent(c.default).pointLabel.node.y=this.cellStart.node.getComponent(c.default).hero.y+130),this.cellStart=null}},t.prototype.handleMerge=function(e){var t=this,o=cc.instantiate(this.skin[n.default.skinNum-1]);"townR"==e.node.group&&(o.x+=55,this.scheduleOnce(function(){o.x-=55},1),o.scaleX*=-1,this.deletedCell=e.node,this.deletedIndex=e.node.getSiblingIndex()),o.parent=e.node,o.x,e.hero=o,e.hero.group=o.group,e.node.getComponent(c.default).point=this.point,this.scheduleOnce(function(){null!=e.pointLabel.node&&(e.pointLabel.string=t.point.toString(),t.scheduleOnce(function(){e.node.getComponent(cc.PhysicsBoxCollider).enabled=!0},1))},.5),e.hero.setSiblingIndex(280),e.pointLabel.node.setSiblingIndex(300),this.countCell++,2==this.countCell&&(this.sword.active=!0,this.pointSword.active=!0,this.townL.children[0].getComponent(cc.PhysicsBoxCollider).enabled=!0),5==this.countCell&&(this.pointSword2.active=!0,this.checkScore=!0,this.townL.children[0].getChildByName("Point").setSiblingIndex(250),this.townL.children[0].getComponent(c.default).hero=this.sword2,this.sword2.active=!0,this.townL.children[0].getComponent(c.default).point=4,this.townL.children[0].getComponent(c.default).pointLabel.node.active=!0,this.townL.children[0].getComponent(c.default).pointLabel.string=this.point.toString(),this.townL.children[0].getChildByName("Point").getComponent(cc.Label).string="4",this.townL.children[0].getChildByName("Point").active=!0,this.townL.children[0].getComponent(cc.PhysicsBoxCollider).enabled=!0),10==this.countCell&&(this.isEndG=!0,this.scheduleOnce(function(){t.darkLayout.active=!0,t.winG.active=!0,t.common.destroy(),t.cameraSlider.node.active=!1,cc.director.getPhysicsManager().enabled=!1},2))},t.prototype.setCellStart=function(e){null==this.cellStart?this.cellStart=e:this.cellStart!=e&&(this.cellStart=e)},t.prototype.setCellEnd=function(e){null!=this.cellStart&&e!=this.cellStart&&(this.cellEnd=e)},t.prototype.spawnEfx=function(e,t,o,n){var c=cc.instantiate(n);c.parent=e,c.x=e.x+t,c.y=e.y+o,c.setSiblingIndex(210)},t.prototype.endGame=function(){this.common.destroy(),this.darkLayout.active=!0,this.endG.setSiblingIndex(500),this.endG.active=!0,this.cameraSlider.node.active=!1},t.prototype.tryAgainBtn=function(){cc.director.loadScene("se_18")},__decorate([s(cc.Node)],t.prototype,"canvas",void 0),__decorate([s(cc.Label)],t.prototype,"pointAfterMergeSword",void 0),__decorate([s({type:cc.AudioClip}),s(cc.Node)],t.prototype,"mainCam",void 0),__decorate([s(cc.Node)],t.prototype,"darkLayout",void 0),__decorate([s(cc.Node)],t.prototype,"hand",void 0),__decorate([s(cc.Node)],t.prototype,"winG",void 0),__decorate([s(cc.Node)],t.prototype,"endG",void 0),__decorate([s(cc.Node)],t.prototype,"hero",void 0),__decorate([s(cc.Prefab)],t.prototype,"skin",void 0),__decorate([s(sp.SkeletonData)],t.prototype,"skinList",void 0),__decorate([s(cc.Node)],t.prototype,"townR_1",void 0),__decorate([s(cc.Node)],t.prototype,"townL",void 0),__decorate([s(r.default)],t.prototype,"cameraSlider",void 0),__decorate([s(cc.Prefab)],t.prototype,"cellEmptyPrb",void 0),__decorate([s(cc.Node)],t.prototype,"startCell",void 0),__decorate([s(cc.Node)],t.prototype,"text",void 0),__decorate([s(cc.Node)],t.prototype,"common",void 0),__decorate([s(cc.Node)],t.prototype,"sword",void 0),__decorate([s(cc.Node)],t.prototype,"sword2",void 0),__decorate([s(cc.Node)],t.prototype,"pointSword",void 0),__decorate([s(cc.Node)],t.prototype,"pointSword2",void 0),__decorate([s(cc.Prefab)],t.prototype,"efx_fire",void 0),__decorate([s(cc.Prefab)],t.prototype,"efx_disappear",void 0),__decorate([s(cc.Node)],t.prototype,"dragon",void 0),t=__decorate([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Global":"Global","../common/Constant":"Constant","./CameraSlider":"CameraSlider","./Cell":"Cell"}],PlatformBrandIcon:[function(e,t,o){"use strict";cc._RF.push(t,"e305btuF0pHNY9UEdxI+P+E","PlatformBrandIcon"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.androidIcon=null,t.iosIcon=null,t}return __extends(t,e),t.prototype.start=function(){cc.sys.os==cc.sys.OS_ANDROID?this.getComponent(cc.Sprite).spriteFrame=this.androidIcon:cc.sys.os==cc.sys.OS_IOS&&(this.getComponent(cc.Sprite).spriteFrame=this.iosIcon)},__decorate([i(cc.SpriteFrame)],t.prototype,"androidIcon",void 0),__decorate([i(cc.SpriteFrame)],t.prototype,"iosIcon",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],XHero_2:[function(e,t,o){"use strict";cc._RF.push(t,"661fbVp2zRLR7CFPC0GEkko","XHero_2"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./hero"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hero=null,t.check=[],t.block=[],t.time=1,t}return __extends(t,e),t.prototype.start=function(){this.nextAnim(this.hero.node),this.check[0]=!0,this.check[1]=!0},t.prototype.nextAnim=function(e){e.getComponent(sp.Skeleton).setCompleteListener(function(t,o){var n=t.animation?t.animation.name:"";"attack_sword"==n&&e.getComponent(sp.Skeleton).setAnimation(0,"idle_sword",!0),"attack_sword2"==n&&e.getComponent(sp.Skeleton).setAnimation(0,"idle_sword",!0),"die"==n&&(e.active=!1)})},t.prototype.changeRotationHero=function(){this.hero.node.scaleX*=-1,this.hero.pointLabel.node.scaleX*=-1},t.prototype.compare=function(e){var t=this;this.offBtn(),this.hero.getComponent(sp.Skeleton).setAnimation(0,"run_sword",!0),this.hero.node.runAction(cc.sequence(cc.moveTo(this.time,this.block[e].x,this.block[e].y),cc.callFunc(function(){t.hero.getComponent(sp.Skeleton).setAnimation(0,"idle_sword",!0),t.hero.getComponent("hero").getPoint()>=t.block[e].getComponent("Block").point?(t.hero.getComponent(sp.Skeleton).setAnimation(0,"attack_sword",!1),t.scheduleOnce(function(){t.block[e].getComponent("Block").getHurt(),t.hero.point=t.hero.point+t.block[e].getComponent("Block").point,t.hero.pointLabel.string=t.hero.point.toString()},1.5)):(t.block[e].getComponent("Block").attack(),t.scheduleOnce(function(){t.hero.getComponent(sp.Skeleton).setAnimation(0,"die",!1)},1)),0==e?(t.check[1]=!0,t.check[2]=!0,t.check[3]=!0):2==e?(t.check[1]=!0,t.check[3]=!0):1==e&&(t.check[2]=!0,t.check[3]=!0,t.check[4]=!0)})))},t.prototype.offBtn=function(){for(var e=0;e<6;e++)this.check[e]=!1},t.prototype.btn_0=function(){this.check[0]&&this.compare(0)},t.prototype.btn_1=function(){this.check[1]&&(this.changeRotationHero(),this.compare(1))},t.prototype.btn_2=function(){this.check[2]&&this.compare(2)},t.prototype.btn_3=function(){this.check[3]&&this.compare(3)},__decorate([r(n.default)],t.prototype,"hero",void 0),__decorate([r(cc.Node)],t.prototype,"block",void 0),__decorate([r()],t.prototype,"time",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./hero":"hero"}],enemy:[function(e,t,o){"use strict";cc._RF.push(t,"08fccHW4KZC3ac3bpCjmddM","enemy"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Global"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=!1,t.e=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.getComponent(sp.Skeleton).setAnimation(0,"idle",!0),"dragon"==this.node.name&&this.node.getComponent(sp.Skeleton).setAnimation(0,"attack",!1)},t.prototype.start=function(){this.nextAnim(this.node)},t.prototype.onEnemyAttack=function(){this.node.getComponent(sp.Skeleton).setAnimation(0,"attack",!1)},t.prototype.onEnemyDie=function(){this.node.getComponent(sp.Skeleton).setAnimation(0,"die",!1),this.check&&(this.e.getComponent(sp.Skeleton).setAnimation(0,"die",!1),console.log("e die"))},t.prototype.nextAnim=function(e){e.getComponent(sp.Skeleton).setCompleteListener(function(t,o){var c=t.animation?t.animation.name:"";"attack"==c&&e.getComponent(sp.Skeleton).setAnimation(0,"idle",!0),"skill"==c&&e.getComponent(sp.Skeleton).setAnimation(0,"idle",!0),"die"==c&&(n.default.allowDrag=!0,e.active=!1)})},__decorate([r()],t.prototype,"check",void 0),__decorate([r(cc.Node)],t.prototype,"e",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"../Global":"Global"}],hero_manager:[function(e,t,o){"use strict";cc._RF.push(t,"451248zVxpNmYMwWV39OcAz","hero_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Global"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hp=1,t.bar=null,t.hpTotal=0,t.widthBar=0,t}return __extends(t,e),t.prototype.onLoad=function(){"Diadora"==this.node.name&&(this.node.getComponent(sp.Skeleton).setAnimation(0,"fx",!0),this.node.getComponent(sp.Skeleton).setAnimation(1,"idle",!0)),"Boss_Zygor"==this.node.name&&(this.node.getComponent(sp.Skeleton).setAnimation(0,"effect",!0),this.node.getComponent(sp.Skeleton).setAnimation(1,"idle",!0)),"Icarus"==this.node.name&&(this.node.getComponent(sp.Skeleton).setAnimation(0,"wing",!0),this.node.getComponent(sp.Skeleton).setAnimation(1,"idle",!0)),"Pasthera"==this.node.name&&this.node.getComponent(sp.Skeleton).setAnimation(1,"idle",!0),"Zalidus"==this.node.name&&this.node.getComponent(sp.Skeleton).setAnimation(0,"fx_neck",!0)},t.prototype.start=function(){this.hpTotal=this.hp,this.bar&&(this.widthBar=this.bar.children[0].scaleX)},t.prototype.BarHealthy=function(){this.bar.active=!0,this.bar.children[0].scaleX=this.widthBar*this.hp/this.hpTotal},t.prototype.onLoseHp=function(e){var t=this;this.scheduleOnce(function(){t.hp=t.hp-e,"Zalidus"==t.node.name&&(n.default.hp_boss=t.hp),t.bar&&t.BarHealthy(),t.hp<=0&&("Boss_Zygor"==t.node.name&&t.getComponent(sp.Skeleton).setAnimation(1,"die",!1),"Zalidus"==t.node.name&&t.getComponent(sp.Skeleton).setAnimation(1,"die",!1))},.2)},t.prototype.addHp=function(e){this.hp=10,this.hpTotal=this.hp,this.widthBar=this.bar.children[0].scaleX},__decorate([r(Number)],t.prototype,"hp",void 0),__decorate([r(cc.Node)],t.prototype,"bar",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./Global":"Global"}],hero:[function(e,t,o){"use strict";cc._RF.push(t,"16003Tvq9FHu6Lz8I0tPH1d","hero"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.point=0,t.pointLabel=null,t}return __extends(t,e),t.prototype.getPoint=function(){return this.point},__decorate([i()],t.prototype,"point",void 0),__decorate([i(cc.Label)],t.prototype,"pointLabel",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],item:[function(e,t,o){"use strict";cc._RF.push(t,"71a3186u11Iq62LgT0hJpPo","item"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.effect=null,t}return __extends(t,e),t.prototype.start=function(){},__decorate([i(cc.Sprite)],t.prototype,"icon",void 0),__decorate([i(sp.Skeleton)],t.prototype,"effect",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],move_bullet:[function(e,t,o){"use strict";cc._RF.push(t,"143892ECfxN5L3ghAs0TKrj","move_bullet"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrb=null,t.efx_explosive=null,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.scheduleOnce(function(){var t=cc.instantiate(e.efx_explosive);t.parent=cc.Canvas.instance.node,t.zIndex=10,t.scale=2,t.x=-84,t.y=-14},.74),this.scheduleOnce(function(){e.spawn_bullet()},1.05)},t.prototype.spawn_bullet=function(){var e=this,t=cc.instantiate(this.bulletPrb);t.parent=cc.Canvas.instance.node,t.zIndex=10,t.x=-78,t.y=-14,t.runAction(cc.sequence(cc.moveBy(.5,cc.v2(320,0)),cc.callFunc(function(){t.opacity=0;var o=cc.instantiate(e.efx_explosive);o.parent=cc.Canvas.instance.node,o.scale=6,o.x=t.x,o.y=t.y})))},__decorate([i(cc.Prefab)],t.prototype,"bulletPrb",void 0),__decorate([i(cc.Prefab)],t.prototype,"efx_explosive",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],particle_card:[function(e,t,o){"use strict";cc._RF.push(t,"dbc69NSHaVKc4QjOcFDLOJs","particle_card"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.schedule(function(){e.node.runAction(cc.sequence(cc.moveBy(.4,cc.v2(128,0)),cc.moveBy(.4,cc.v2(0,-210)),cc.moveBy(.4,cc.v2(-128,0)),cc.moveBy(.4,cc.v2(0,210))))},1.6,cc.macro.REPEAT_FOREVER,0)},t=__decorate([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],point_fly:[function(e,t,o){"use strict";cc._RF.push(t,"a1bccx8AV5FNbeSjAVINVIx","point_fly"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.point=[],t}return __extends(t,e),t.prototype.start=function(){var e=this;this.point[0].runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,135)),cc.callFunc(function(){e.point[0].destroy()}))),this.point[1].runAction(cc.sequence(cc.moveBy(.55,cc.v2(0,110)),cc.callFunc(function(){e.point[1].destroy()}))),this.point[2].runAction(cc.sequence(cc.moveBy(.45,cc.v2(0,125)),cc.callFunc(function(){e.point[2].destroy()}))),this.point[3].runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,120)),cc.callFunc(function(){e.point[3].destroy()}))),this.point[4].runAction(cc.sequence(cc.moveBy(.6,cc.v2(0,125)),cc.callFunc(function(){e.point[4].destroy()}))),this.point[5].runAction(cc.sequence(cc.moveBy(.45,cc.v2(0,120)),cc.callFunc(function(){e.point[5].destroy()}))),this.point[6].runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,125)),cc.callFunc(function(){e.point[6].destroy()}))),this.point[7].runAction(cc.sequence(cc.moveBy(.45,cc.v2(0,110)),cc.callFunc(function(){e.point[7].destroy()})))},__decorate([i(cc.Node)],t.prototype,"point",void 0),t=__decorate([c],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],progressCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"66265LrUEFG0Lr89J6zdzGN","progressCtrl"),cc.Class({extends:cc.Component,properties:{speed:10,verticalBarReverse:{type:cc.ProgressBar,default:null},claw:{type:cc.Node,default:null}},onLoad:function(){this._pingpong=!0,this.verticalBarReverse.progress=0},start:function(){this.claw.runAction(cc.sequence(cc.moveBy(1,cc.v2(0,-300)),cc.moveBy(1,cc.v2(0,300))))},update:function(e){this._updateProgressBar(this.verticalBarReverse,e)},_updateProgressBar:function(e,t){var o=e.progress;o<1&&this._pingpong?o+=t*this.speed:(o-=t*this.speed,this._pingpong=o<=0),e.progress=o}}),cc._RF.pop()},{}],ropeCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"23356UyC8lHoqBza1Y7jUNw","ropeCtrl"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Global"),c=cc._decorator,i=c.ccclass,r=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickSound=null,t.verticalBarReverse=null,t.rope=null,t.bgDark=null,t.pressBtn=null,t.ballList=[],t.ballSprite=[],t.ballPickUp=null,t.guideEgg=null,t.egg=null,t.eggChild=null,t.delay=0,t.timeBar=1,t.claw=null,t.pingpong=null,t.progress=0,t.checkRecall=!1,t.checkPress=!1,t.pos=0,t.ballNum=0,t.posX=0,t.posY=0,t.clickPress=!1,t.hand=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.verticalBarReverse.progress=.3},t.prototype.start=function(){var e=this;this.posX=this.rope.x,this.posY=this.rope.y,this.scheduleOnce(function(){e.clickPress||e.press()},7.32)},t.prototype.pickUpEgg=function(){this.rope.x>50?(this.ballNum=2,n.default.numEggVsHero=2):this.rope.x>=-40&&this.rope.x<=50?(this.ballNum=1,n.default.numEggVsHero=1):this.rope.x<-40&&(this.ballNum=0,n.default.numEggVsHero=0)},t.prototype.press=function(){var e=this;this.clickPress=!0,this.hand.destroy(),this.checkPress||(cc.audioEngine.playEffect(this.clickSound,!1),this.pickUpEgg(),this.rope.getComponent(cc.Animation).pause(),this.pressBtn.getComponent(cc.Animation).pause(),this.scheduleOnce(function(){e.claw.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,-200)),cc.callFunc(function(){e.ballPickUp.getComponent(cc.Sprite).spriteFrame=e.ballSprite[e.ballNum],e.ballList[e.ballNum].destroy(),e.ballPickUp.active=!0})))},this.delay+.1),this.schedule(function(){e.checkPress||(e.verticalBarReverse.progress<=1?(e.verticalBarReverse.progress+=e.progress,e.progress+=.001):(e.checkPress=!0,e.checkRecall||(e.checkRecall=!0,e.scheduleOnce(function(){e.claw.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,200)),cc.callFunc(function(){e.rope.runAction(cc.sequence(cc.moveTo(1,cc.v2(e.posX,e.posY)),cc.callFunc(function(){e.ballPickUp.runAction(cc.sequence(cc.moveTo(.7,cc.v2(0,-1e3)),cc.callFunc(function(){e.ballPickUp.destroy(),e.bgDark.active=!0,e.egg.active=!0,e.eggChild.getComponent(cc.Sprite).spriteFrame=e.ballSprite[e.ballNum],e.eggChild.rotation=0,e.egg.runAction(cc.spawn(cc.scaleTo(.4,3),cc.moveTo(.4,cc.v2(0,10)),cc.callFunc(function(){e.scheduleOnce(function(){e.guideEgg.active=!0,n.default.enableBroke=!0},.4)})))})))})))})))},.4),e.scheduleOnce(function(){e.reCall()},.5))))},this.time,cc.macro.REPEAT_FOREVER,this.delay))},t.prototype.reCall=function(){var e=this;this.schedule(function(){e.verticalBarReverse.progress>=.3&&(e.progress-=.001,e.verticalBarReverse.progress-=e.progress)},this.time,cc.macro.REPEAT_FOREVER,this.delay)},__decorate([r({type:cc.AudioClip})],t.prototype,"clickSound",void 0),__decorate([r(cc.ProgressBar)],t.prototype,"verticalBarReverse",void 0),__decorate([r(cc.Node)],t.prototype,"rope",void 0),__decorate([r(cc.Node)],t.prototype,"bgDark",void 0),__decorate([r(cc.Node)],t.prototype,"pressBtn",void 0),__decorate([r(cc.Node)],t.prototype,"ballList",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"ballSprite",void 0),__decorate([r(cc.Node)],t.prototype,"ballPickUp",void 0),__decorate([r(cc.Node)],t.prototype,"guideEgg",void 0),__decorate([r(cc.Node)],t.prototype,"egg",void 0),__decorate([r(cc.Node)],t.prototype,"eggChild",void 0),__decorate([r(cc.Node)],t.prototype,"claw",void 0),__decorate([r(cc.Node)],t.prototype,"hand",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{"./Global":"Global"}],skinHero:[function(e,t,o){"use strict";cc._RF.push(t,"549derQytpF7pgPqUNYX7wl","skinHero"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Global"),c=e("../common/Constant"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){1==n.default.skinNum?this.node.getComponent(sp.Skeleton).setAnimation(0,"idle_dagger",!0):2==n.default.skinNum&&this.node.getComponent(sp.Skeleton).setAnimation(0,"idle_sword",!0),this.node.getComponent(sp.Skeleton).defaultSkin="skin_2"},t.prototype.start=function(){this.nextAnim(this.node)},t.prototype.attackHero=function(){this.node.getComponent(sp.Skeleton).setAnimation(0,"attack",!1)},t.prototype.dieHero=function(){this.node.getComponent(sp.Skeleton).setAnimation(0,"die",!1)},t.prototype.nextAnim=function(e){e.getComponent(sp.Skeleton).setCompleteListener(function(t,o){var n=t.animation?t.animation.name:"";"attack_sword"==n&&e.getComponent(sp.Skeleton).setAnimation(0,"idle_sword",!0),"attack_dagger"==n&&e.getComponent(sp.Skeleton).setAnimation(0,"idle_dagger",!0),"die"==n&&(e.active=!1,cc.Canvas.instance.node.emit(c.Constant.EVENT.END_GAME))})},t=__decorate([r],t)}(cc.Component));o.default=a,cc._RF.pop()},{"../Global":"Global","../common/Constant":"Constant"}]},{},["AudioManager","BellmanFord","Block","Global","GraphNode","HeroManager","XHero_2","AdManager","Constant","PlatformBrandIcon","hero","hero_manager","item","move_bullet","particle_card","point_fly","progressCtrl","ropeCtrl","CameraSlider","Cell","MergeHero","MergeUpgrade","enemy","skinHero"]);